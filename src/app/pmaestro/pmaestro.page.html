<ion-header>
  <ion-toolbar class="barra-naranja">
    <ion-title>
      Perfil de Usuario
    </ion-title>
  </ion-toolbar>
</ion-header>


<ion-content>
  <ion-card>
    <div id="formularioPerfil">
      <ion-item>
        <ion-avatar (click)="selectImage()">
          <img [src]="userImage ? userImage : 'assets/default-image.png'" alt="Foto de Perfil">
          <ion-label position="stacked">Foto de Perfil</ion-label>
          <label class="custom-file-upload">
            <ion-icon name="camera"></ion-icon>
            <input #fileInput type="file" accept="image/*" (change)="onFileSelected($event)" style="display:none;">
          </label>
        </ion-avatar>
      </ion-item>
    </div>
  </ion-card>

  <ion-card> 
    <ion-item>
      <ion-label position="stacked">Nombre Completo</ion-label>
      <ion-input type="text" [(ngModel)]="nombreDeUsuario" name="nombreDeUsuario" [readonly]="campoEditando !== 'nombreDeUsuario'"></ion-input>
      <ion-icon name="create" slot="end" (click)="campoEditando === 'nombreDeUsuario' ? cancelarEdicion() : editarCampo('nombreDeUsuario')"></ion-icon>
    </ion-item>
  </ion-card>
<ion-card>
<ion-item>
  <ion-label position="stacked">Email</ion-label>
  <ion-input type="email" [(ngModel)]="correoElectronico" name="correoElectronico" [readonly]="campoEditando !== 'correoElectronico'"></ion-input>
  <ion-icon name="create" slot="end" (click)="campoEditando === 'correoElectronico' ? cancelarEdicion() : editarCampo('correoElectronico')"></ion-icon>
</ion-item>
</ion-card>
<ion-card>
<ion-item>
  <ion-label position="stacked">Tipo(s) de Oficios</ion-label>
  <ion-list>
    <ion-item *ngFor="let oficio of tiposOficio; let i = index">
      {{ oficio }}
      <ion-icon name="create" slot="end" (click)="campoEditando === 'tipoOficio' + i ? cancelarEdicion() : editarCampo('tipoOficio' + i)"></ion-icon>
      <ion-icon name="trash" slot="end" (click)="eliminarOficio(i)"></ion-icon>
    </ion-item>
  </ion-list>
  <ion-input [(ngModel)]="nuevoOficio" [ngModelOptions]="{ standalone: true }" placeholder="Ej Carpintero, Gasfiter,Electricista"></ion-input>
  <ion-button (click)="agregarOficio()"  class="boton-gris" expand="full">Agregar</ion-button>
</ion-item>
</ion-card>
<ion-card>
<ion-item>
  <ion-label position="stacked">Zona de Trabajo</ion-label>
  <ion-select [(ngModel)]="zonaTrabajo" name="zonaTrabajo" [disabled]="campoEditando === 'zonaTrabajo'">
    <ion-select-option value="Zona Arica y Parinacota">Región de Arica y Parinacota </ion-select-option>
    <ion-select-option value="Zona Tarapacá">Región de Tarapacá</ion-select-option>
    <ion-select-option value="Zona Antofagasta">Región de Antofagasta</ion-select-option>
    <ion-select-option value="Zona Atacama">Región de Atacama</ion-select-option>
    <ion-select-option value="Zona Coquimbo">Región de Coquimbo</ion-select-option>
    <ion-select-option value="Zona Valparaíso">Región de Valparaíso</ion-select-option>
    <ion-select-option value="Zona Santiago">Región Metropolitana de Santiago</ion-select-option>
    <ion-select-option value="Zona O'Higgins">Región de O'Higgins</ion-select-option>
    <ion-select-option value="Zona Maule">Región del Maule</ion-select-option>
    <ion-select-option value="Zona Ñuble">Región de Ñuble</ion-select-option>
    <ion-select-option value="Zona Biobío">Región del Biobío</ion-select-option>
    <ion-select-option value="Zona La Araucanía">Región de La Araucanía</ion-select-option>
    <ion-select-option value="Zona Los Ríos">Región de Los Ríos</ion-select-option>
    <ion-select-option value="Zona Los Lagos">Región de Los Lagos</ion-select-option>
    <ion-select-option value="Zona Aysén">Región de Aysén </ion-select-option>
    <ion-select-option value="Zona B">Región de Magallanes</ion-select-option>
  </ion-select>
  <ion-icon name="create" slot="end" (click)="campoEditando === 'zonaTrabajo' ? cancelarEdicion() : editarCampo('zonaTrabajo')"></ion-icon>
</ion-item>
</ion-card>
<ion-card>    <ion-item>
  <ion-label position="stacked">Certificaciones</ion-label>
  <ion-input type="text" [(ngModel)]="certificaciones" name="certificaciones" [readonly]="campoEditando !== 'certificaciones'"></ion-input>
  <ion-icon name="create" slot="end" (click)="campoEditando === 'certificaciones' ? cancelarEdicion() : editarCampo('certificaciones')"></ion-icon>
</ion-item>
</ion-card>
<ion-card> <ion-item>
  <ion-label position="stacked">Trabajos/Recomendaciones</ion-label>
  <ion-list>
    <ion-item *ngFor="let trabajoRecomendacion of trabajosRecomendaciones; let i = index">
      {{ trabajoRecomendacion }}
      <ion-icon name="create" slot="end" (click)="campoEditando === 'trabajoRecomendacion' + i ? cancelarEdicion() : editarCampo('trabajoRecomendacion' + i)"></ion-icon>
      <ion-icon name="trash" slot="end" (click)="eliminarTrabajoRecomendacion(i)"></ion-icon>
    </ion-item>
  </ion-list>
  <ion-input [(ngModel)]="nuevoTrabajoRecomendacion" [ngModelOptions]="{ standalone: true }" placeholder="Añadir trabajo o recomendación"></ion-input>
  <ion-button (click)="agregarTrabajoRecomendacion()" class="boton-gris" expand="full">Agregar</ion-button>
</ion-item>
</ion-card>
</ion-content>
<ion-footer class="ion-padding">
  <ion-toolbar class="barra-baja">
    <ion-buttons class="botones-navegacion" style="justify-content: center;">
      
      <ion-button (click)="irAInicio()"> 
        <ion-icon name="home"></ion-icon>
        <ion-label> Inicio</ion-label>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-footer>